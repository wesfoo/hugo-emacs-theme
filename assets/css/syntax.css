/* Syntax Highlighting CSS - Emacs-style Code Highlighting
 * Emacs Blog Theme
 * Based on Modus themes syntax colors
 */

/* ============================================
   CODE BLOCKS
   ============================================ */
pre {
  position: relative;
  background-color: var(--code-bg);
  border: 1px solid var(--code-border);
  border-radius: 0;
  padding: 0;
  margin: 1em 0;
  overflow: hidden;
}

pre code {
  display: block;
  padding: 1em;
  overflow-x: auto;
  background: none;
  font-size: 0.9rem;
  line-height: 1.5;
}

/* Code block header (language label) */
pre::before {
  content: attr(data-lang);
  display: block;
  padding: 0.25em 1em;
  background-color: var(--bg-dim);
  border-bottom: 1px solid var(--code-border);
  color: var(--fg-dim);
  font-size: 0.8rem;
  text-transform: lowercase;
}

pre:not([data-lang])::before {
  display: none;
}

/* ============================================
   CHROMA SYNTAX HIGHLIGHTING (Hugo default)
   ============================================ */

/* Background */
.highlight {
  background-color: var(--code-bg);
  margin: 1em 0;
}

.highlight pre {
  margin: 0;
  border: 1px solid var(--code-border);
}

/* Line numbers */
.highlight .ln,
.highlight .lnt {
  color: var(--fringe-fg);
  padding-right: 1em;
  user-select: none;
}

.highlight .lnt {
  margin-right: 0.5em;
}

/* Highlighted line */
.highlight .hl {
  display: block;
  background-color: var(--bg-hl-line);
}

/* Error */
.highlight .err {
  color: var(--red);
  background-color: transparent;
}

/* Line Link */
.highlight .lnlinks {
  outline: none;
  text-decoration: none;
  color: inherit;
}

/* ============================================
   TOKEN TYPES
   ============================================ */

/* Keywords */
.highlight .k,   /* Keyword */
.highlight .kc,  /* Keyword.Constant */
.highlight .kd,  /* Keyword.Declaration */
.highlight .kn,  /* Keyword.Namespace */
.highlight .kp,  /* Keyword.Pseudo */
.highlight .kr,  /* Keyword.Reserved */
.highlight .kt { /* Keyword.Type */
  color: var(--syntax-keyword);
  font-weight: bold;
}

/* Names / Identifiers */
.highlight .n {  /* Name */
  color: var(--fg-main);
}

.highlight .na { /* Name.Attribute */
  color: var(--syntax-variable);
}

.highlight .nb { /* Name.Builtin */
  color: var(--syntax-builtin);
}

.highlight .nc { /* Name.Class */
  color: var(--syntax-type);
  font-weight: bold;
}

.highlight .no { /* Name.Constant */
  color: var(--syntax-constant);
}

.highlight .nd { /* Name.Decorator */
  color: var(--syntax-preprocessor);
}

.highlight .ni { /* Name.Entity */
  color: var(--yellow);
}

.highlight .ne { /* Name.Exception */
  color: var(--red);
  font-weight: bold;
}

.highlight .nf { /* Name.Function */
  color: var(--syntax-function);
}

.highlight .nl { /* Name.Label */
  color: var(--cyan);
}

.highlight .nn { /* Name.Namespace */
  color: var(--syntax-type);
}

.highlight .nt { /* Name.Tag */
  color: var(--syntax-keyword);
}

.highlight .nv, /* Name.Variable */
.highlight .nx { /* Name.Other */
  color: var(--syntax-variable);
}

/* Literals */
.highlight .l {  /* Literal */
  color: var(--blue);
}

.highlight .ld { /* Literal.Date */
  color: var(--green);
}

/* Strings */
.highlight .s,   /* String */
.highlight .sa,  /* String.Affix */
.highlight .sb,  /* String.Backtick */
.highlight .sc,  /* String.Char */
.highlight .dl,  /* String.Delimiter */
.highlight .sd,  /* String.Doc */
.highlight .s2,  /* String.Double */
.highlight .se,  /* String.Escape */
.highlight .sh,  /* String.Heredoc */
.highlight .si,  /* String.Interpol */
.highlight .sx,  /* String.Other */
.highlight .sr,  /* String.Regex */
.highlight .s1,  /* String.Single */
.highlight .ss { /* String.Symbol */
  color: var(--syntax-string);
}

/* Numbers */
.highlight .m,   /* Number */
.highlight .mb,  /* Number.Bin */
.highlight .mf,  /* Number.Float */
.highlight .mh,  /* Number.Hex */
.highlight .mi,  /* Number.Integer */
.highlight .il,  /* Number.Integer.Long */
.highlight .mo { /* Number.Oct */
  color: var(--syntax-number);
}

/* Operators */
.highlight .o,   /* Operator */
.highlight .ow { /* Operator.Word */
  color: var(--syntax-operator);
}

/* Punctuation */
.highlight .p {  /* Punctuation */
  color: var(--fg-main);
}

/* Comments */
.highlight .c,   /* Comment */
.highlight .ch,  /* Comment.Hashbang */
.highlight .cm,  /* Comment.Multiline */
.highlight .c1,  /* Comment.Single */
.highlight .cs { /* Comment.Special */
  color: var(--syntax-comment);
  font-style: italic;
}

.highlight .cp { /* Comment.Preproc */
  color: var(--syntax-preprocessor);
  font-style: normal;
}

.highlight .cpf { /* Comment.PreprocFile */
  color: var(--syntax-string);
}

/* Generic */
.highlight .gd { /* Generic.Deleted */
  color: var(--red);
  background-color: rgba(255, 95, 89, 0.1);
}

.highlight .ge { /* Generic.Emph */
  font-style: italic;
}

.highlight .gr { /* Generic.Error */
  color: var(--red);
}

.highlight .gh { /* Generic.Heading */
  color: var(--magenta);
  font-weight: bold;
}

.highlight .gi { /* Generic.Inserted */
  color: var(--green);
  background-color: rgba(68, 188, 68, 0.1);
}

.highlight .go { /* Generic.Output */
  color: var(--fg-dim);
}

.highlight .gp { /* Generic.Prompt */
  color: var(--cyan);
  font-weight: bold;
}

.highlight .gs { /* Generic.Strong */
  font-weight: bold;
}

.highlight .gu { /* Generic.Subheading */
  color: var(--blue);
  font-weight: bold;
}

.highlight .gt { /* Generic.Traceback */
  color: var(--red);
}

/* ============================================
   ORG-MODE SPECIFIC
   ============================================ */

/* Org source blocks */
.org-src-container {
  margin: 1em 0;
}

.org-src-container pre {
  margin: 0;
}

/* Org block labels */
.org-block-begin-line,
.org-block-end-line {
  color: var(--fg-dim);
  font-size: 0.85rem;
  padding: 0.25em 0.5em;
  background-color: var(--bg-dim);
  border: 1px solid var(--code-border);
}

.org-block-begin-line {
  border-bottom: none;
  border-radius: 3px 3px 0 0;
}

.org-block-end-line {
  border-top: none;
  border-radius: 0 0 3px 3px;
}

/* ============================================
   INLINE CODE
   ============================================ */

/* Inline code */
code:not(pre code) {
  background-color: var(--code-bg);
  padding: 0.15em 0.35em;
  border-radius: 2px;
  font-size: 0.9em;
  color: var(--cyan);
}

/* Org verbatim =text= */
.org-verbatim {
  background-color: var(--code-bg);
  padding: 0.1em 0.3em;
  color: var(--green);
}

/* Org code ~code~ */
.org-code {
  background-color: var(--code-bg);
  padding: 0.1em 0.3em;
  color: var(--cyan);
}
